---
title: FetchWithValidation
sidebar_position: 1
---

import { CodeBlock } from '@/components/code-block'

[**frontend**](../../..)

***

[frontend](../../..) / [lib/fetchWithValidation](..) / FetchWithValidation

# Function: FetchWithValidation()

> **FetchWithValidation**\<`T`\>(`schema`, `url`): `Promise`\<`SafeParseReturnType`\<`T`, `T`\>\>

Defined in: [src/lib/fetchWithValidation.tsx:19](https://github.com/svsticky/CommitteeClash/blob/f974faa16c13593c1cc0eea50bf89b045abdabb5/frontend/src/lib/fetchWithValidation.tsx#L19)

Fetches data from a specified URL and validates it against a provided Zod schema.

## Type Parameters

### T
<CodeBlock language="ts">
{`T`}
</CodeBlock>
The type of the data to be validated.

## Parameters

### schema
<CodeBlock language="ts">
{`ZodType\<T\>`}
</CodeBlock>

The Zod schema to validate the fetched data against.

### url
<CodeBlock language="ts">
{`string`}
</CodeBlock>
The URL to fetch data from.

## Returns
<CodeBlock language="ts">
{`Promise\<SafeParseReturnType\<T, T\>\>`}
</CodeBlock>

- A promise that resolves to a SafeParseReturnType containing the validated data or an error.

## Remarks

If the fetch request fails (response.ok is false), the function will return an error object
with the message from the backend response. The backend should ensure that error messages
don't contain sensitive information.
